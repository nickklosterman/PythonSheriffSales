outputFileName="/tmp/HCSO_results.txt"
tmpFile="/tmp/HCSO.txt"
tmpFile2="/tmp/HCSO2.txt"

wget http://apps.hcso.org/PropertySale.aspx -O "${tmpFile}"

viewState=$( grep VIEWSTATE ${tmpFile} |  sed 's/.*value="//;s/".*//' )


tsm_HiddenField="8jSHtPUq5GTpTU7TqyBMDISfz_eSpI82sxIw_rAiXhI1"
eventTarget=""
eventArgument=""


viewStateEncrypted="" #_VIEWSTATEENCRYPTED" value="" />
eventValidation=$( grep EVENTVALIDATION ${tmpFile} |  sed 's/.*value="//;s/".*//' ) #needed?

echo $viewState
echo ""
echo $eventValidation

btnCurrent="Upcoming+Foreclosures"
curl -A "Mozilla" -d "TSM_HiddenField=${tsm_HiddenField}&__EVENTTARGET=${eventTarget}&__EVENTARGUMENT=${eventArgument}&__VIEWSTATE=${viewState}&__VIEWSTATEENCRYPTED=${viewStateEncrypted}&__EVENTVALIDATION=${eventValidation}&txtAddress_TextBoxWatermarkExtender_ClientState=${txtAddress}&btnCurrent=${btnCurrent}" http://apps.hcso.org/PropertySale.aspx > "${tmpFile2}"

viewState=$( grep VIEWSTATE ${tmpFile2} |  sed 's/.*value="//;s/".*//' )
eventValidation=$( grep EVENTVALIDATION ${tmpFile2} |  sed 's/.*value="//;s/".*//' ) #needed?


#I inspected the headers on the post of PropertySale.aspx when I submitted a query to get these fields. 
ddlDate="9/25/2014"
ddlDate="9%2F25%2F/2014"
ddlTown=""
txtAddress=""
btnCurrent="Upcoming+Foreclosures"
txtCaseno=""
txtAddress=""
txtAddress_TextBoxWatermarkExtender_ClientState=""
btnGo="GO"
#if i copy and paste teh text out of the Form data (and viewing the source) and then simply change the date I can get the data. 
#_TSM_HiddenField_=8jSHtPUq5GTpTU7TqyBMDISfz_eSpI82sxIw_rAiXhI1&__EVENTTARGET=&__EVENTARGUMENT=&__VIEWSTATE=uQrJJ28KfaFbN75f9Bw6J3J0%2BifNgcUUVHTByTjPbN3zKmkHABJXFnZU0dRwsHslP66TMYxJVdZtiiBUFNvCqre9t0Mk7dThNNIisjkIPt1DHeCY1qlG3kSjAslk76SUn3YNJty%2BLSEMmCt%2F7v3jnTbBZ83aFEZMrYt5WtxLeIi5IU1R1hIWDR6yAfCsdmH73zzc1RMHtGXpH%2B12sgDy0CWfXO6%2F07H17m33hkWykocLKN0MiDpy3PriObTgcLSHMHamT4fOEEz40CAjJt2tba7mK7aS5znjTJL5c0YKHifQKQsZUeyzeyKLZmMTNQQ9DUR%2BPQxO8DbXqATCoesVCHDEruTvJVaRns5kbCf1M8jfRA1lGurD1sn84WBB53jq9xjI1uy5FJr6lGUUJgfVpI%2Fz%2F8aoXriKcSpnTt0KxpzrN5g18N8MLLDUsoKYpAAwQi695Mkbi71DKYfE9oeDn7gAYXIbtJQ6SIwI393JvQRTKD1Yyepc6NWsIanXfj5%2BrPsRzG3gh73kkV%2FOovX9%2FyH%2FfzBmRtkrK6M5VrmWinDMA2zTJFOmAZ81Gk7LQ%2BSEfbiZuqOPdarpW7dRHos00TWXLgDb5c9DKGNj0qj1nPNnHCUifHj2oLKmKfR3yfmr2IQyebu673%2BxmtcF5PK8X9idq0VsT596T4EX6rf%2BOhwxut4n55%2FYIjLWLVPCTUs8lNP4oQzgK%2Flyad0EekvPkHS%2F4dT%2BqkvpIxKO90kKxw15TYEiVXVnt0MDrWDIWDuIvXDF3IqzIEhJE2%2FqVR7up%2BTem8EZ6UmqrZQJKIUCRMMyqPrTw6nnJVmYNnamTzIVjDfXKKyaLZPXXxnKBCorbK%2BbmsBbED1ETXwSvKce6WD4GwvI6gR3yS5VS7eE75PYjh003K%2BdyfTnF0KhmISnjh2O75iH9pqula0u2cVgEHSwM3%2B8zubVQXIJaZt%2FjH5HdJzl%2BBCqUoJWxiceHPxno%2BwbfeRviXlf4bFsjTOX1EFA88zh%2BtdbyGFmlmolltJnKRroPCS0c%2FFFfXdVP4B7jbmZj%2BGhDIDfPGJYOOPgjjd9n4KVGjzKt1GL9%2FefngzD7mQ18rbRf3OAkI8B45xLfrhbzpOl6beLJPcRqIx5HALDzoihfrodci%2BtRiAC9InyVynOphrdp%2BX0JTYxQviiAllPjZLOdA2d7Xbo0NYq2v%2F7HCBMGR6WuAeCKroK8t%2FoBzk0AxKtCSCaUUxtjn3jJArYapv%2Bex%2BpsLq6UDI2Sc26pMrRRq2yhL3LMS%2FqDPfyYK4%2F4KIekV4lbXHx6Akuidli2R783frYtLG7tlJLXmzWjrv5rCXRP16KbsacyzGzW8tERWL3qZUb7q6kcC9v7EhSqTyk8U8VKVZXxJREcvvvezfaYYJ0UIYjEtnPUbdYlY4Ke47x5Ei7LtE3op7vBuE6K59WroLR1nGLC1kd2xRtapMGO956lZP0BUsHOZhrY184VIH8O9sGUwC1KNNFdP4QEvRKCg%2FtfbYh%2BnXqGqTBHtQ%2F95Vm1mso6RUuxVuTeEubk%2FpX0RZV4PhYNe3usrB62vk6g0qjFMejAGVTfioIubzvx03GT62MT6qkxr5vTRKFdHyZkLnPqh3wpXZV%2FPr6%2BjY32ub51xWrx%2Farz6Ww9V5jPVw%2FkxDjmxVBroHrodmN7KmuMLX6%2B1dSC7sQkZsQj2EapVUW5K1prsb8JjLVt1xGS91ci7waqneTYyEYNspm5AdHT09L0lJXA9%2FbnpI%2BDL0ZUBgL2Vn8BClJYj8hKDJQSskditbpmVLKyGWSbtl1Sb9rCNjrfgk1tScWje8xaxb84aORm95qcGgyiqsbKd02vY60n5Br5Iz9hOWUDr%2FNquLe8LwkmLNrw6KWDhF0VK64DMi9whHjpHa2RbITaC21zmbVkeoPDX8Outol1WDhPZolz%2BtHXhp2d1XLfKBypn6TwCyUgwTurCDY5lIRHWdxu6oYbK1P8dyw%2FCuEM6wj04YqNeOSS5%2F9hdj%2FGNE0mdVStzkELYbXM93yYCKsKyOeQGKq%2B409SBmdw1b6CR3p%2FmJp7OOUfwKIUfO0HeFb0Tne0kKo%2BasX%2F9QLQbiuJzMts1QSpidGuzv7mL1foGpF5NI5RydMzZVo%2ByD4%2BsSaIxb1%2BUHqYYhOqxJ%2FvX5xFhSqt%2BukErN%2BjPXqH2IheVbsNA9HFslNth7HPlcbw3YqyTBFY%2F0mU25rIVZfzxViwNBgzJXNnUAIGh5ehKGjaYQGdYNsiHgoTUj9k5tKfxM6Xqk0r%2B1sOE8hczSHKYghA4sXhCc0jXlRXKHIYU%2Fs8ICVrgWSmbl2rw7W9q6YVZWWjUU5EWO%2BFW5JRjhDs%2FUOZdSpKyUWkgGjFYUFIsr6&__VIEWSTATEENCRYPTED=&__EVENTVALIDATION=sGN6zKbiUUZnWb8mwnLqbB6e0FplGoGpExIIGjU919N5BWgpgPnLKPisZPX3gPDzKrISnUTrxcRDp%2FL%2BHrQ9nvJY3uy47R1fkcFOgPneSl%2FNFEjuRQGR7kqp4Pd2WofCdtStNynlne4687Y68Zw6vM7E6pbK8bXDnWX7YgSWQz0R7g0qRyzE38cFqcwjG9qMY6%2FTH68SWrA515Gj5kn5YajLv3JkM63tY%2BIm0XXSQOypwmmEg3lABcaZNkP79tj9HyJPuUDtpLDu%2FrAo%2B4lkTJXeud2gvw8U1DWNP4O4s0cXkB7y0MIS7JWt5UinRnEd8mjcFafjM6ZEG%2FG0CjoIu1zervsKBwgRiBeGbMgyulWv%2FZcYZ9BYYHbjzatRPaBbl0w1vF3U8ps1V1GjfZE4Hi%2FAwuP5iFZwPzwkT6zpvdf5n9oJmOo7%2FcEvsncPZvu8pcsn9mlJH2DkHFa%2FfdLipf4sIQtUdxGAtzxzJMpOUUS4FhLncfslV46gWdDJFOshoesO4GX5w1AcXa4EyBjS1ba%2B201ACykr2Lj%2BQxVytMRXJ2LEJXglVT4HMo6%2BD7lGCvBeeGmHvfTTW2bEXZN8VdSzQO09FLZeLRvqX%2BtN5KhRTiuGvJombLmFE1ftxQUIsePu95hfXflkdgqHNugk9B2LRKyfrgQ2j0Qz91nd1rjip%2FMDJgYoa0WJxwRvmsaGRiZr%2BzGnQeApje3e5Br8Ncwsa1UvRDivTOuqbrkku%2BmQvBGxaL3gV94swTgEo1bj6sVTTn15Bjd1DF39rgsHkbWynP3xSIVndtoNI0jc28TrUOaLSChJmgkpGWdDtzb0pZ3VRgs7oIlPalbfQhCn3S5wijuF4i6vxSqYCc1YIuvkAc2k0C8LVLr6v0G%2FQirvxLpX%2BmeWHRN5rOee08D7ykHE%2BIC%2Bj8o%2BdjlHN9XlNCbRhjAxJcG9Dn7P5yZc1LLlN7aXrFGCHIZ7CvL99uD6fgm1fgs6kqh0UrgYSNotsSXNIOFlDGh9acJqup7BJKVY1jtbYPN%2F08541nv%2FetUWkSeBCarV7vf8B89iwZU7e%2BOLK8Fw%2Brxg0J%2B4IeLi4n3KsiIPowVC%2BE%2BX070hzs2z5uv1yXDBXxvSX5MsNR0s8QW3ARjDPMsFPE0F47K%2FjeTAFGdcQrh3YuzPE8twKel%2F1MVw0oWETY8Vsl%2Fmh29OvAvX%2F2T2GBCgWemkgn%2BOH2kqxupHvXL4WBmQXBTLpP5BH%2BZae%2FoH%2Bqcx0ljIEX43c9yqs0YHgtcGEPljAni794EPXBbMts6uTFtvLyqifBFluvp0DFWgryHEraM9bRwgafOeJD8oglCe3CTQaiTW%2F5wxF313c6%2F6VoNTcMCNur2ANm%2Bb3abpF%2BBU55N6j2K6Mt35dgdMqc3O5N8AY1h2Rv%2B0ACEyCsVvWO%2FHCc6RrHN4yF7OJkaDS3yqCa95bg6mvMNFtkrMSNND4coxIMen%2BvPx8gSH%2FDp2tkKomFFx%2Fxp%2FI9xw%2FPRFnE5NWeuDZxZNv3M%3D&ddlDate=10%2F16%2F2014&ddlTown=&txtAddress=&txtAddress_TextBoxWatermarkExtender_ClientState=&btnGo=GO&txtCaseno=
#for sold foreclosures:
#_TSM_HiddenField_=8jSHtPUq5GTpTU7TqyBMDISfz_eSpI82sxIw_rAiXhI1&__EVENTTARGET=&__EVENTARGUMENT=&__VIEWSTATE=R9r8snT2EWmG2RGgtAVgZFPmDUUVfZ5Lq7ZG07UHR9Ls2JxCrzeSF6Tu4Xd%2F584SLUaBKzGPN9nI6%2B0OmjHXQb1Apx5ApLRbEtc5ULOOCHbgEY%2FTNWLrvZCcVoabIcWOPqEszT1VH3%2B2dMkS%2FTDNNYzv65l%2BHdwP%2FKoFqu3bVehvG4LFVYnWsLf0pVGcvhF%2F0lPkgcl6ru4t0NkG6eU62Yj4XdHld35UYkamXsTWcHdE%2FpfImRjGPyZ78ktRMSmRPYpg0p6gaMRpb9lGuxPb5NS7XWV4E4nk3hALqX8CMyL8xsm2TPsIvXIFDPGDInaKDdA4W%2FfiiDzfjYiaaNKlYyIj99ShFh0vhMDPDXBDFUrp7D8rxE9aowgaIWzPbBc4SkqaE5p97HocHzaMNwKU6tefjAwB1cladRV7VaYFZiNMKB4zM1JU8cePSWE4en0rpcRxAyTlNKnAKbt%2FXUFEv%2FkHfQ47vhURolMhf17st5On8WMGN9Sn6N3DRvbYELLtvcgQDjSx7ArbNU%2Bkt3l%2BsT0E3lnbT7nm0IrY5bFvIeMXMkYC5EOnpJ6BY3cKrXg08dFqzL54uelJ6VCQUgsNNi%2B16vZ3I6sup5z%2FGL7%2BF%2Bwqrb%2BAx8IervfkvUQrKAP12qBoJ%2B0wRc9vH7tlzI6tJgF8FFHSgX9KDeATlPxulGoM7pyqTDRqgj%2FJ5GAihqLiIL9ys320PF3NV4am%2BP4%2F4XOBCm3CYShGZ6A2JZic%2B%2B4zzJjFjoai17ajdyt%2FjklMOryj61LYtv64SI5Tyod14mEpBu9IxZo3lIcxFYwEa%2FC6vZ2Jx8wYY%2B24SOtaoxt%2FwIdfCuGpzyzpi1re86Y8Bfcn0j2bmOKmxr6KQLpaih6geDumjswPwY%2FyvHoWhiNJ2Itiym%2FAwR%2BWopyqmPYU%2FRnFduPxEJkmyNXDqDuJ%2BBvJgpUNkw%2BU8Wr%2BO4%2FCmtoMQXpUvirpN0oaIJGNHRoFe%2F3hR17PYzo9r8XWkY4oq%2BeyQuzvQp5EAe5GKUsIVO8SfeEg4J%2FGh3ULhnDUKHHuAyVBIJDuNUc48xU7ZIJOjrzCmdd1dBxjCFI46giVkZloGIE%2FJmoDNfT9w38%2Bc0bwlGgtilP9Ns%2BsT8hF0IKSRECfNSyCFgk7GLY7ZQSWuO%2BtZzjz5kkfQ4izL8v8Y2MZxKL2nNx%2BT0ge%2B9LZ%2FE5g6JCfthyRhVVXjeeuSzoN5eFNuOQlUvmcI2KJiGM%2FofWPXl2mZPD9NJqh0VZuHdujaQp79LCSQ0GfkGGCggZ%2By3%2FUHBrZpuSZS1quzvxl0QZQxDYi72RldIiUkx%2FfccN%2Fg1oXP0HV1K9n%2F%2BERYr3hHk2RHIwlps8feMER%2BERaFpvMMOewNCfNTCepIvepxgtIQwMb7o54m8lIWc8GzFRQDF5dSFJ4m965f7aYoYZ2rlU1SdUlnNC3NDCS0aEPgxuC93zcM%2B3g2ZRLLK7FOm8%2FQZAFTbKcW2TjRDwsJ%2BZeya8w3VBvvkhJdWYMwM%2B%2FHIbsEFb0TOo1apOQpUdMbSYOve3aVCFhy8JHrbjoKIyl9Vc0rCbhFKDvAkP6csmWl%2FFP9E7W3kRtrS9Rc5BjUN5bJPF%2FL0xEQsSjIi9BX2FBfGw%2Bb7eWPJ0CA%2FNUUzJrr81QaIyUTHxjuPDCtmLBy%2FO6JUJ2VwN68VjkB2I0U9qROjmcpyqK4d7T7ij4nFPQ%2FN06Gk9ssw9u9vhzneB7KbPIjM8cYi3EEVwmDUW0CGoU5qP20qB%2BkdAW7pnLs0fZbeB9tQKkUSeiUig%2Boyf%2BUtaHOuEcDMsYEPkC6ZZoHdx4a2eAttZBe7W1xguJq7WZCYj%2BtaJT7mz8MKtBlvlA%2Fh1KdJxrVgnIzQDwaIB3hQKy4yoKxxtrbXZ%2FFf3bJas5tTvEgkZZ5XofrcTfzO1lbkyFBBEzhJrnVQ%2BBHtxsy6IHRxpi0oezh06w4Ml5vfCcz2MncWxdkaGyoLu7Ums4aDBtmVWGtcpkP0XjN4pTrA7IzoAOUGnhb2w%2BPDl%2B0ai%2FTRifyNUNc7XEWSdn0DU5YTC3EygBCU%2BNi%2BIamTzfjpDvY4eZwXFQOw9i0uBIVH%2B7QApRyr0VFDXojIPy1XlQtp%2B6rDP95DfXMo9zXJIPKHXvTIgJfIKckMZJruc3y3wXdJpB0Was0vm1nyVcJQWAVQT%2FR4tFHm2JhMuuUQV2rlMe5eb1s8UBNKUo2EcU5bztx%2BuI0J7qydUu2i2Lo%2BGiChYgETj5eajd7AmqpLW5pRJhCg6WVFTBYE%2B8kzf7LI0oxdmaGg0ACgtcnFUCiNYHxCVf3OQ6bVxcfUVSGAvSHWYRxWLUtbiyUt6E2QRqhwrNBVXXHNhJYnik%2B7hxbOVKJStvYmlzuXq3nFUI0cAaKNEK37j53%2BhMi8HdA%2BkAUOGRO0T%2FEyf1OElGFPOqjw6keW%2BrMrmx&__VIEWSTATEENCRYPTED=&__EVENTVALIDATION=eGXfm1tlrQgxbubYFjJ5o9cdQFKmOAZArESCjVWIrNzZAm1H%2FYnAI%2BAGuZqg%2Bq3l4ZgMG%2F7Zhye3QZBD8P68CFGQPsMAWRNUWMpbSCrH0coHSkDrNnG7C%2FElfTeVgWX1vXLTFBQ%2BS9JQ8SxeptOgzEwjfJU4bgcuFxjCW%2F6zw9GE9%2FOfF1uKqlriJCgVpLUznJzxwZ%2BqQnSawQ41Xnprc35VwvmpLZllYzgatJ%2FAQC%2FYCOMsyBhospFbD6Ul6BdRoUUXJ7DdfBxAhQPpVFk9OpYIVh952ID%2FqRxaUPtSd69B8auQdkHNziz%2BWGz%2FPtdxzhw3uw1G%2BYHgJXUrCxAzIQJHWyTphVUl%2FOCo7dGgbjy0F1BaFbnVEg1CKtRhnPg6uVF8c8RsXcOUNnQucKQhOQKV7EV6Br%2BDi2jvuuX9xh5Za15sP%2FlMZhX2FHNJJ0Y7q26DxUOAVcJwZlqSpd96Awkn%2BNWw8fwrvG3rHsnXOGF9TXeQLZtVEU1W90GUQg9%2BgkJHNwB%2B3XuocC3R7we9CDNVQ9YH53QEKGPQKpOyINn%2Fjj7IhQ%2FLYvI9bfwvEJ4OB6rNiQUhpSRlBFlatT1N5sCsuGqrKKcvTmWW0ELoK1y2VdaBeYxIiVNjelaBiEzyjQHvH0EGB9AUQo14ccw9ODS0Gc2DYjzheAISXKTJrqYdNhcYusN7PgrdjJqnxhALQe9FjONZrDGd5%2FKqBCiY8RUp%2BuMAHzm4KzoJOL3nDsjt8YrXP9OljGDRIUeYPsgz5SMZcXlKDv2NRvQKAODvZ22C771NlyIizR8pHsSwWZrz5N6qgxXDEQS8SntZGKsrS6Ran6F%2FjEKv12ToWhbyEbs1d9bM3tRlQCOXjSZP8qFAgma9Vxrz5Zdn9ocHzPq80QFD4X8NPOY8O8WGytsRQBWMDizTai6yHp9%2FG7lTHcOydMG3Xm7h7U0K%2BDt1vcaYY6Ph64uIcycPxyBSvvp%2BfGa4XTQOduDG3K40s8k6HxjUDYO8ZNuJwqEq0K84Wg4mx8lNA9uuVqgble0vW9cwWaAibnHhyYOAUy1i0s5w2DOtsPJozr8nfS2pDuot0hE%2F90ioOojC3vB3s8c6lTz5sTqUadtAJdzJATQBRFiBIzMcYcGA2KaE74Tlqk7sEAwpwhsW6l4WSM5xqLWIDSGnpnHmHK9atF1SmMD6ZZLG4vjJxA5pri7Q%2BtcA348E8X7eBlD2THUwp4CD2VefPo70SPl9FUM8SXnPwbOBKmjE%2FnxHXzosGS0XaKxkvTZu%2FOVQvcU0%2BRTN0Xb7ZdViXU8irsjTBvalYuLN3hTt8war%2F8mRj4tgSiEn%2Bsqiv1e34eP0&ddlTown=&txtAddress=&txtAddress_TextBoxWatermarkExtender_ClientState=&txtSoldDate=9%2F11%2F2014&btnGo=GO&txtCaseno=
curl -A "Mozilla" -d "_TSM_HiddenField=${tsm_HiddenField}&__EVENTTARGET=${eventTarget}&__EVENTARGUMENT=${eventArgument}&__VIEWSTATE=${viewState}&__VIEWSTATEENCRYPTED=${viewStateEncrypted}&__EVENTVALIDATION=${eventValidation}&ddlDate=${ddlDate}&ddlTown=${ddlTown}&txtAddress=${txtAddress}&txtAddress_TextBoxWatermarkExtender_ClientState=${txtAddress}&btnGo=${btnGo}&txtCaseno=${txtCaseno}&btnCurrent=${btnCurrent}" http://apps.hcso.org/PropertySale.aspx > "${outputFileName}"

#curl -d "__EVENTVALIDATION=${eventValidation}&__VIEWSTATEENCRYPTED=${viewStateEncrypted}&__EVENTTARGET=${eventTarget}&__EVENTARGUMENT=${eventArgument}&_TSM_HiddenField=${tsm_HiddenField}__VIEWSTATEENCRYPTED=${viewStateEncrypted}&txtAddress_TextBoxWatermarkExtender_ClientState=${txtAddress}&btnCurrent=${btnCurrent}" http://apps.hcso.org/PropertySale.aspx > "${outputFileName}"

#curl -d "ddlDate=${ddlDate}&ddlTown=${ddlTown}" http://apps.hcso.org/PropertySale.aspx > "${outputFileName}"

#curl -d "ddlDate=${ddlDate}&ddlTown=${ddlTown}" http://apps.hcso.org/PropertySale.aspx > "${outputFileName}"

